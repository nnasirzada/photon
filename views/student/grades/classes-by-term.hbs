<h3 class="uk-heading-bullet uk-margin-top">
    {{title}}
</h3>

<div uk-grid>
    {{!-- Class Navigation --}}
    <div class="uk-width-1-1">
        <table id="table" class="uk-table uk-table-hover uk-table-striped" style="width: 100%;">
            <thead>
            <tr>
                <th>Title</th>
                <th>Section</th>
                <th>School</th>
                <th>Credits</th>
                <th>Level</th>
                <th>Option</th>
            </tr>
            </thead>
        </table>
    </div>
</div>

<script>
    $(document).ready(function () {
        var table = $('#table').DataTable({
            dom: 'Bfrtip',
            responsive: {
                details: {
                    display: $.fn.dataTable.Responsive.display.childRowImmediate
                }
            },
            buttons: [],
            select: {},
            ajax: "/student/grades/term/{{term_id_ajax}}/enrolled_classes",
            rowId: 'id',
            columns: [
                {"data": "title", responsivePriority: 1},
                {"data": "course_section", responsivePriority: 3},
                {"data": "school_code", responsivePriority: 6},
                {"data": "credit_hours", responsivePriority: 4},
                {"data": "level", responsivePriority: 5},
                {
                    data: null,
                    responsivePriority: 2,
                    sortable: false,
                    render: function (data, type, row) {
                        return "<a href=/student/grades/term/" + row.term_id + "/class/" + row.class_id + "/view_grades>View grades</a>";
                    }
                }
            ]
        });

        // table row onclick
        $('#table tbody').css("cursor", "pointer");
        $('#table tbody').on('click', 'tr', function () {
            var row = table.row($(this));
            window.location.href = "/student/grades/term/" + row.data().term_id + "/class/" + row.data().class_id;
        });

    });
</script>